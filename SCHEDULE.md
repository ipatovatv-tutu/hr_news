# Расписание дайджеста (без включённого компьютера)

Дайджест запускается **на серверах GitHub** по понедельникам и четвергам в **09:00 по Москве**. Cursor и компьютер можно закрывать.

## Что сделать один раз

### 1. Выложить проект на GitHub

Создай репозиторий на [github.com](https://github.com): нажми **+** → **New repository**, введи имя (например `hr-news-agent`), выбери приватный или публичный, нажми **Create repository**.

**Как загрузить все файлы из папки hr-news-agent**

Нужно, чтобы в **корне** репозитория лежали файлы проекта (а не подпапка `hr-news-agent`). Есть два способа.

---

**Способ 1: через сайт GitHub (без установки Git)**

1. Открой страницу **своего нового репозитория** на GitHub (пустой, с README или без — не важно).
2. Нажми кнопку **Add file** → **Upload files**.
3. Открой на компьютере папку `hr-news-agent` (полный путь, например: `Мозг/hr-news-agent`).
4. Выдели **все** нужные файлы и папки:
   - файлы: `main.py`, `requirements.txt`, `vc_discovery.py`, `SCHEDULE.md`, `telegram-bot-description.md`, `clean_text.py`, `digest_builder.py`, `fetch_news.py`, `send.py`, `test_tg.py`, `sent_articles.json` (если есть);
   - папку **`.github`** (внутри неё `workflows/digest.yml`) — без неё расписание не заработает.
5. Перетащи их в окно браузера в область «Drag files here» или нажми **choose your files** и выбери эти файлы и папку `.github`.
6. Внизу в поле **Commit message** напиши, например: `Initial commit: HR digest project`.
7. Нажми **Commit changes**.

Если папку `.github` не видно (скрытые файлы): в Finder (Mac) — **Cmd+Shift+.** (точка), чтобы показать скрытые папки; в проводнике Windows — «Показать скрытые файлы». Либо загрузи сначала файлы, потом отдельно зайди в репозитории в папку `.github/workflows` и загрузи туда `digest.yml`.

---

**Способ 2: через Git в терминале**

Если установлен Git:

1. Открой терминал и перейди в папку проекта:
   ```bash
   cd /Users/ipatova/Мозг/hr-news-agent
   ```
2. Инициализируй репозиторий (если ещё не сделано):
   ```bash
   git init
   ```
3. Добавь ссылку на твой репозиторий на GitHub (подставь свой логин и имя репо):
   ```bash
   git remote add origin https://github.com/ВАШ_ЛОГИН/ИМЯ_РЕПОЗИТОРИЯ.git
   ```
4. Добавь все файлы, закоммить и отправь:
   ```bash
   git add .
   git commit -m "Initial commit: HR digest"
   git branch -M main
   git push -u origin main
   ```
   Если Git спросит логин/пароль — используй логин GitHub и **Personal Access Token** (не пароль от аккаунта): GitHub → Settings → Developer settings → Personal access tokens → создать токен с правом `repo`.

---

**Важно:** в корне репозитория должны быть `main.py`, `requirements.txt`, `vc_discovery.py` и папка `.github/workflows` с файлом `digest.yml`. Тогда GitHub Actions сможет запускать дайджест по расписанию.

### 2. Добавить секреты в репозиторий

Секреты нужны, чтобы GitHub Actions мог отправлять дайджест в Telegram и вызывать OpenAI. GitHub не показывает их в логах и не даёт прочитать после сохранения.

**Как создать секрет по шагам:**

1. Открой свой репозиторий на [github.com](https://github.com) (страница репозитория, не папка внутри него).

2. Нажми вкладку **Settings** (Настройки) вверху справа — рядом с Insights и Security.

3. В левом меню найдите раздел **Secrets and variables** → **Actions** и нажмите на него.
   - Если меню длинное, можно прокрутить вниз до блока «Security».
   - Внутри будет подраздел **Repository secrets** (Секреты репозитория).

4. Нажми кнопку **New repository secret** (Новый секрет репозитория).

5. Заполни форму:
   - **Name** — имя секрета (пиши **точно** как в таблице ниже, без пробелов).
   - **Secret** — значение (токен или ID). Его потом нельзя будет посмотреть, только изменить.

6. Нажми **Add secret**.

7. Повтори шаги 4–6 для каждого из трёх секретов.

**Какие секреты создать:**

| Name (имя)      | Secret (значение)                                      |
|-----------------|--------------------------------------------------------|
| `TELEGRAM_TOKEN`| Токен бота из @BotFather (например `123456:ABC-...`)   |
| `CHAT_ID`       | Твой Chat ID (число, например `281610747`)             |
| `OPENAI_API_KEY`| Ключ API OpenAI (начинается с `sk-proj-...`)           |

Значения бери из своего `main.py` — те же, что в переменных `TELEGRAM_TOKEN`, `CHAT_ID` и `OPENAI_API_KEY`.

**Проверка:** в разделе **Actions** → **Repository secrets** должны быть видны три секрета (значения скрыты, отображаются только имена).

### 3. Всё

После этого каждый **понедельник и четверг в 09:00 МСК** workflow «HR Digest» будет запускаться сам, собирать дайджест и отправлять его в Telegram.

Проверить запуски: в репозитории вкладка **Actions** → **HR Digest**.

Ручной запуск: **Actions** → **HR Digest** → **Run workflow**.
